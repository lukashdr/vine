<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>–í–∏–Ω–Ω—ã–π –ö–æ–º–ø–∞—Å –ó–¥–æ—Ä–æ–≤—å—è | –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ç—è–∂–µ—Å—Ç–∏ –≤–∏–Ω–∞</title>
<style>
  * {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
  }
  
  body { 
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
    margin: 0; 
    padding: 20px; 
    background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
    color: #333;
    line-height: 1.6;
    min-height: 100vh;
  }
  
  .container {
    max-width: 800px;
    margin: 0 auto;
    background: white;
    padding: 30px;
    border-radius: 20px;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
  }
  
  .header {
    text-align: center;
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 2px solid #f0f0f0;
  }
  
  h1 {
    color: #8a1538;
    margin-bottom: 10px;
    font-weight: 700;
    font-size: 2.2em;
  }
  
  .subtitle {
    color: #666;
    font-size: 1.1em;
    margin-bottom: 5px;
  }
  
  .dedication {
    color: #8a1538;
    font-style: italic;
    font-weight: 500;
    margin-top: 10px;
  }
  
  .form-group {
    margin-bottom: 25px;
  }
  
  label { 
    display: block; 
    margin-bottom: 8px; 
    font-weight: 600;
    color: #444;
    font-size: 1.1em;
  }
  
  .search-box {
    width: 100%;
    padding: 12px 15px;
    border: 2px solid #e1e1e1;
    border-radius: 10px;
    font-size: 16px;
    margin-bottom: 10px;
    transition: all 0.3s ease;
  }
  
  .search-box:focus {
    outline: none;
    border-color: #8a1538;
    box-shadow: 0 0 0 3px rgba(138, 21, 56, 0.1);
  }
  
  .search-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 5px;
  }
  
  .selected-count {
    color: #8a1538;
    font-weight: 600;
    font-size: 0.9em;
  }
  
  .total-count {
    color: #666;
    font-size: 0.9em;
  }
  
  .selected-grapes {
    margin-top: 10px;
    padding: 15px;
    background: #f8f0f3;
    border-radius: 10px;
    border-left: 4px solid #8a1538;
  }
  
  .selected-grapes h4 {
    color: #8a1538;
    margin-bottom: 8px;
    font-size: 1em;
  }
  
  .selected-list {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
  }
  
  .grape-tag {
    background: #8a1538;
    color: white;
    padding: 4px 10px;
    border-radius: 15px;
    font-size: 0.85em;
    font-weight: 500;
  }
  
  .tooltip { 
    font-size: 0.85em; 
    color: #666; 
    margin-top: 8px;
    font-style: italic;
    line-height: 1.4;
  }
  
  .calculate-btn {
    width: 100%;
    padding: 18px;
    background: linear-gradient(135deg, #8a1538 0%, #6b2737 100%);
    color: white;
    border: none;
    border-radius: 12px;
    font-size: 18px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 10px;
    box-shadow: 0 4px 15px rgba(138, 21, 56, 0.3);
  }
  
  .calculate-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(138, 21, 56, 0.4);
  }
  
  .calculate-btn:active {
    transform: translateY(0);
  }
  
  .info-btn {
    width: 100%;
    padding: 12px;
    background: transparent;
    color: #8a1538;
    border: 2px solid #8a1538;
    border-radius: 12px;
    font-size: 16px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 15px;
  }
  
  .info-btn:hover {
    background: #8a1538;
    color: white;
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(138, 21, 56, 0.3);
  }
  
  #result { 
    margin-top: 30px; 
    padding: 25px;
    border-radius: 15px;
    text-align: left;
    font-size: 1em;
    background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
    border-left: 5px solid #8a1538;
    display: none;
  }
  
  .result-level {
    font-size: 1.8em;
    font-weight: 700;
    margin-bottom: 15px;
    text-align: center;
  }
  
  .result-index {
    font-size: 1.4em;
    color: #555;
    text-align: center;
    margin-bottom: 20px;
  }
  
  .result-category {
    margin-bottom: 25px;
    padding: 15px;
    border-radius: 10px;
    background: white;
  }
  
  .result-category h3 {
    font-size: 1.3em;
    margin-bottom: 15px;
    padding-bottom: 8px;
    border-bottom: 2px solid;
  }
  
  .result-category p {
    margin-bottom: 12px;
    line-height: 1.5;
  }
  
  .result-category ul {
    margin-left: 20px;
    margin-bottom: 15px;
  }
  
  .result-category li {
    margin-bottom: 8px;
    line-height: 1.4;
  }
  
  .scale-bar {
    height: 12px;
    background: linear-gradient(90deg, #4caf50 0%, #ffeb3b 50%, #f44336 100%);
    border-radius: 6px;
    margin: 20px 0;
    position: relative;
  }
  
  .scale-marker {
    position: absolute;
    top: -5px;
    width: 22px;
    height: 22px;
    background: white;
    border: 3px solid #333;
    border-radius: 50%;
    transform: translateX(-50%);
    transition: left 0.5s ease;
  }
  
  .scale-labels {
    display: flex;
    justify-content: space-between;
    font-size: 0.9em;
    color: #666;
    margin-top: 5px;
  }
  
  /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
  .modal {
    display: none;
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0,0,0,0.5);
  }
  
  .modal-content {
    background-color: white;
    margin: 5% auto;
    padding: 30px;
    border-radius: 20px;
    width: 90%;
    max-width: 700px;
    max-height: 80vh;
    overflow-y: auto;
    box-shadow: 0 15px 35px rgba(0,0,0,0.3);
    position: relative;
  }
  
  .close {
    position: absolute;
    right: 20px;
    top: 15px;
    font-size: 28px;
    font-weight: bold;
    cursor: pointer;
    color: #8a1538;
  }
  
  .close:hover {
    color: #333;
  }
  
  .modal-section {
    margin-bottom: 25px;
  }
  
  .modal-section h3 {
    color: #8a1538;
    margin-bottom: 10px;
    font-size: 1.3em;
  }
  
  .modal-section ul {
    margin-left: 20px;
    margin-bottom: 10px;
  }
  
  .modal-section li {
    margin-bottom: 8px;
  }
  
  .parameter-table {
    width: 100%;
    border-collapse: collapse;
    margin: 15px 0;
  }
  
  .parameter-table th,
  .parameter-table td {
    border: 1px solid #ddd;
    padding: 12px;
    text-align: left;
  }
  
  .parameter-table th {
    background-color: #f8f0f3;
    color: #8a1538;
    font-weight: 600;
  }
  
  .parameter-table tr:nth-child(even) {
    background-color: #f9f9f9;
  }
  
  /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–ø–∏—Å–∫–∞ —á–µ–∫–±–æ–∫—Å–æ–≤ */
  .grape-list {
    max-height: 350px;
    overflow-y: auto;
    border: 1px solid #ddd;
    padding: 10px;
    border-radius: 12px;
    background: #fff;
  }
  
  .grape-item {
    display: flex;
    align-items: center;
    padding: 8px;
    border-bottom: 1px solid #f0f0f0;
    font-size: 16px;
  }
  
  .grape-item:last-child {
    border-bottom: none;
  }
  
  .grape-item input {
    margin-right: 10px;
  }
  
  .tag {
    background: #8a1538;
    color: white;
    padding: 5px 10px;
    border-radius: 12px;
    margin-right: 6px;
    display: inline-block;
    font-size: 14px;
  }
  
  @media (max-width: 768px) {
    body {
      padding: 15px;
    }
    
    .container {
      padding: 20px;
      border-radius: 15px;
    }
    
    h1 {
      font-size: 1.8em;
    }
    
    .subtitle {
      font-size: 1em;
    }
    
    .calculate-btn {
      padding: 16px;
      font-size: 16px;
    }
    
    .info-btn {
      padding: 10px;
      font-size: 14px;
    }
    
    #result {
      padding: 20px;
      font-size: 0.95em;
    }
    
    .result-level {
      font-size: 1.5em;
    }
    
    .modal-content {
      margin: 10% auto;
      padding: 20px;
      width: 95%;
    }
    
    .parameter-table {
      font-size: 0.9em;
    }
    
    .parameter-table th,
    .parameter-table td {
      padding: 8px;
    }
    
    .selected-list {
      gap: 6px;
    }
    
    .grape-tag {
      font-size: 0.8em;
      padding: 3px 8px;
    }
  }
  
  @media (max-width: 480px) {
    h1 {
      font-size: 1.5em;
    }
    
    .container {
      padding: 15px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .modal-content {
      padding: 15px;
    }
    
    .parameter-table {
      font-size: 0.8em;
    }
  }
</style>
</head>
<body>

<div class="container">
  <div class="header">
    <h1>üç∑ –í–∏–Ω–Ω—ã–π –ö–æ–º–ø–∞—Å –ó–¥–æ—Ä–æ–≤—å—è</h1>
    <div class="subtitle">–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Ç—è–∂–µ—Å—Ç–∏ –≤–∏–Ω–∞</div>
    <div class="dedication"></div>
  </div>

  <!-- –í—ã–±–æ—Ä —Å–æ—Ä—Ç–∞ -->
  <div class="form-group">
    <label>–°–æ—Ä—Ç –≤–∏–Ω–æ–≥—Ä–∞–¥–∞ (–≤—ã–±–µ—Ä–∏—Ç–µ –æ–¥–∏–Ω –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ):</label>
    <input type="text" id="grapeSearch" class="search-box" placeholder="üîç –ü–æ–∏—Å–∫ —Å–æ—Ä—Ç–∞ –≤–∏–Ω–æ–≥—Ä–∞–¥–∞..." oninput="filterGrapes()">
    <div class="search-info">
      <div class="selected-count" id="selectedCount">–í—ã–±—Ä–∞–Ω–æ: 0</div>
      <div class="total-count" id="totalCount">–í—Å–µ–≥–æ: 0</div>
    </div>
    
    <!-- –ë–ª–æ–∫ –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–æ—Ä—Ç–æ–≤ -->
    <div class="selected-grapes" id="selectedGrapesBlock" style="display: none;">
      <h4>–í—ã –≤—ã–±—Ä–∞–ª–∏ —Å–ª–µ–¥—É—é—â–∏–µ —Å–æ—Ä—Ç–∞:</h4>
      <div class="selected-list" id="selectedGrapesList"></div>
    </div>
    
    <div class="grape-list" id="grapeList">
      <!-- –ù–ï–ú–ï–¶–ö–ò–ï/–ê–í–°–¢–†–ò–ô–°–ö–ò–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Riesling">
        <span>Riesling ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="M√ºller-Thurgau">
        <span>M√ºller-Thurgau ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Silvaner">
        <span>Silvaner ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Gew√ºrztraminer">
        <span>Gew√ºrztraminer ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Gr√ºner Veltliner">
        <span>Gr√ºner Veltliner ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Blaufr√§nkisch">
        <span>Blaufr√§nkisch ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Zweigelt">
        <span>Zweigelt ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Trollinger">
        <span>Trollinger ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Kerner">
        <span>Kerner ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Bacchus">
        <span>Bacchus ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Ortega">
        <span>Ortega ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Dornfelder">
        <span>Dornfelder ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Rotgipfler">
        <span>Rotgipfler ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Zierfandler">
        <span>Zierfandler ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="St. Laurent">
        <span>St. Laurent ‚Äî 3</span>
      </label>

      <!-- –§–†–ê–ù–¶–£–ó–°–ö–ò–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Pinot Noir">
        <span>Pinot Noir ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Gamay">
        <span>Gamay ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Cabernet Franc">
        <span>Cabernet Franc ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Merlot">
        <span>Merlot ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Syrah">
        <span>Syrah ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Grenache">
        <span>Grenache ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="5" value="Mourv√®dre">
        <span>Mourv√®dre ‚Äî 5</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Carignan">
        <span>Carignan ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Cinsault">
        <span>Cinsault ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Malbec">
        <span>Malbec ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Cabernet Sauvignon">
        <span>Cabernet Sauvignon ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Pinot Gris">
        <span>Pinot Gris ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Chardonnay">
        <span>Chardonnay ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Sauvignon Blanc">
        <span>Sauvignon Blanc ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="S√©millon">
        <span>S√©millon ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Viognier">
        <span>Viognier ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Marsanne">
        <span>Marsanne ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Roussanne">
        <span>Roussanne ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Chenin Blanc">
        <span>Chenin Blanc ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Muscat">
        <span>Muscat ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Picpoul">
        <span>Picpoul ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Ugni Blanc">
        <span>Ugni Blanc ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Clairette">
        <span>Clairette ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Bourboulenc">
        <span>Bourboulenc ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Alicante Bouschet">
        <span>Alicante Bouschet ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Petit Manseng">
        <span>Petit Manseng ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Gros Manseng">
        <span>Gros Manseng ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Mauzac">
        <span>Mauzac ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Tannat">
        <span>Tannat ‚Äî 4</span>
      </label>

      <!-- –ò–¢–ê–õ–¨–Ø–ù–°–ö–ò–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Sangiovese">
        <span>Sangiovese ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="5" value="Nebbiolo">
        <span>Nebbiolo ‚Äî 5</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Barbera">
        <span>Barbera ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Dolcetto">
        <span>Dolcetto ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Montepulciano">
        <span>Montepulciano ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Primitivo">
        <span>Primitivo ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Negroamaro">
        <span>Negroamaro ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Nero d'Avola">
        <span>Nero d'Avola ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="5" value="Aglianico">
        <span>Aglianico ‚Äî 5</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Corvina">
        <span>Corvina ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Garganega">
        <span>Garganega ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Trebbiano">
        <span>Trebbiano ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Vermentino">
        <span>Vermentino ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Fiano">
        <span>Fiano ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Falanghina">
        <span>Falanghina ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Greco">
        <span>Greco ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Lambrusco">
        <span>Lambrusco ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Glera">
        <span>Glera ‚Äî 1 (Prosecco)</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Pinot Grigio">
        <span>Pinot Grigio ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Lagrein">
        <span>Lagrein ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Schiava">
        <span>Schiava ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Teroldego">
        <span>Teroldego ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Refosco">
        <span>Refosco ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Pignolo">
        <span>Pignolo ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Ribolla Gialla">
        <span>Ribolla Gialla ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Cataratto">
        <span>Cataratto ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Inzolia">
        <span>Inzolia ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Frappato">
        <span>Frappato ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Nerello Mascalese">
        <span>Nerello Mascalese ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Carricante">
        <span>Carricante ‚Äî 2</span>
      </label>

      <!-- –ò–°–ü–ê–ù–°–ö–ò–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Tempranillo">
        <span>Tempranillo ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Garnacha">
        <span>Garnacha ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="5" value="Monastrell">
        <span>Monastrell ‚Äî 5</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Bobal">
        <span>Bobal ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Graciano">
        <span>Graciano ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Menc√≠a">
        <span>Menc√≠a ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Albari√±o">
        <span>Albari√±o ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Verdejo">
        <span>Verdejo ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Godello">
        <span>Godello ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Xarel-lo">
        <span>Xarel-lo ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Macabeo">
        <span>Macabeo ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Parellada">
        <span>Parellada ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Air√©n">
        <span>Air√©n ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Palomino">
        <span>Palomino ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Prieto Picudo">
        <span>Prieto Picudo ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Juan Garc√≠a">
        <span>Juan Garc√≠a ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="List√°n Negro">
        <span>List√°n Negro ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="List√°n Blanco">
        <span>List√°n Blanco ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Cayetana">
        <span>Cayetana ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Mazuelo">
        <span>Mazuelo ‚Äî 4</span>
      </label>

      <!-- –ü–û–†–¢–£–ì–ê–õ–¨–°–ö–ò–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Touriga Nacional">
        <span>Touriga Nacional ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Touriga Franca">
        <span>Touriga Franca ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Tinta Roriz">
        <span>Tinta Roriz ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Alfrocheiro">
        <span>Alfrocheiro ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Baga">
        <span>Baga ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Castel√£o">
        <span>Castel√£o ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Trincadeira">
        <span>Trincadeira ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Arinto">
        <span>Arinto ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Alvarinho">
        <span>Alvarinho ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Loureiro">
        <span>Loureiro ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Encruzado">
        <span>Encruzado ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Jaen">
        <span>Jaen ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Rufete">
        <span>Rufete ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Bical">
        <span>Bical ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Fern√£o Pires">
        <span>Fern√£o Pires ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Vital">
        <span>Vital ‚Äî 1</span>
      </label>

      <!-- –ì–†–£–ó–ò–ù–°–ö–ò–ï/–ê–ë–•–ê–ó–°–ö–ò–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Rkatsiteli">
        <span>Rkatsiteli ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Saperavi">
        <span>Saperavi ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Mtsvane">
        <span>Mtsvane ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Kisi">
        <span>Kisi ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Chinuri">
        <span>Chinuri ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Krakhuna">
        <span>Krakhuna ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Tsolikouri">
        <span>Tsolikouri ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Tsitska">
        <span>Tsitska ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Aleksandrouli">
        <span>Aleksandrouli ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Ojaleshi">
        <span>Ojaleshi ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Usakhelouri">
        <span>Usakhelouri ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Tavkveri">
        <span>Tavkveri ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Goruli Mtsvane">
        <span>Goruli Mtsvane ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Chkhaveri">
        <span>Chkhaveri ‚Äî 1</span>
      </label>

      <!-- –†–û–°–°–ò–ô–°–ö–ò–ï/–ö–†–´–ú–°–ö–ò–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Krasnostop">
        <span>Krasnostop ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Sibirkovy">
        <span>Sibirkovy ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Tsimlyansky">
        <span>Tsimlyansky ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Pukhlyakovsky">
        <span>Pukhlyakovsky ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Dostoyny">
        <span>Dostoyny ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Viorica">
        <span>Viorica ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Aligote">
        <span>Aligote ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Cabernet">
        <span>Cabernet ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Bastardo">
        <span>Bastardo ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="–¶–∏—Ç—Ä–æ–Ω–Ω—ã–π –ú–∞–≥–∞—Ä–∞—á–∞">
        <span>–¶–∏—Ç—Ä–æ–Ω–Ω—ã–π –ú–∞–≥–∞—Ä–∞—á–∞ ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="–ü–µ—Ä–≤–µ–Ω–µ—Ü –ú–∞–≥–∞—Ä–∞—á–∞">
        <span>–ü–µ—Ä–≤–µ–Ω–µ—Ü –ú–∞–≥–∞—Ä–∞—á–∞ ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="–†–∞–Ω–Ω–∏–π –ú–∞–≥–∞—Ä–∞—á–∞">
        <span>–†–∞–Ω–Ω–∏–π –ú–∞–≥–∞—Ä–∞—á–∞ ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="–ú—É—Å–∫–∞—Ç –æ–¥–µ—Å—Å–∫–∏–π">
        <span>–ú—É—Å–∫–∞—Ç –æ–¥–µ—Å—Å–∫–∏–π ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="–ü–æ–¥–∞—Ä–æ–∫ –ú–∞–≥–∞—Ä–∞—á–∞">
        <span>–ü–æ–¥–∞—Ä–æ–∫ –ú–∞–≥–∞—Ä–∞—á–∞ ‚Äî 3</span>
      </label>

      <!-- –í–û–°–¢–û–ß–ù–û–ï–í–†–û–ü–ï–ô–°–ö–ò–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="FeteascƒÉ AlbƒÉ">
        <span>FeteascƒÉ AlbƒÉ ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="FeteascƒÉ RegalƒÉ">
        <span>FeteascƒÉ RegalƒÉ ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="FeteascƒÉ NeagrƒÉ">
        <span>FeteascƒÉ NeagrƒÉ ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Kadarka">
        <span>Kadarka ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="K√©kfrankos">
        <span>K√©kfrankos ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Irsai Oliv√©r">
        <span>Irsai Oliv√©r ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Plavac Mali">
        <span>Plavac Mali ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Po≈°ip">
        <span>Po≈°ip ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Vranac">
        <span>Vranac ‚Äî 4</span>
      </label>

      <!-- –ê–†–ú–Ø–ù–°–ö–ò–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Areni">
        <span>Areni ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Voskehat">
        <span>Voskehat ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Kangun">
        <span>Kangun ‚Äî 3</span>
      </label>

      <!-- –Æ–ñ–ù–û–ê–§–†–ò–ö–ê–ù–°–ö–ò–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Pinotage">
        <span>Pinotage ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Cinsaut">
        <span>Cinsaut ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Colombard">
        <span>Colombard ‚Äî 1</span>
      </label>

      <!-- –ê–ú–ï–†–ò–ö–ê–ù–°–ö–ò–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Zinfandel">
        <span>Zinfandel ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Petite Sirah">
        <span>Petite Sirah ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Concord">
        <span>Concord ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Catawba">
        <span>Catawba ‚Äî 2</span>
      </label>

      <!-- –ê–í–°–¢–†–ê–õ–ò–ô–°–ö–ò–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Shiraz">
        <span>Shiraz ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Durif">
        <span>Durif ‚Äî 4</span>
      </label>

      <!-- –ß–ò–õ–ò–ô–°–ö–ò–ï/–ê–†–ì–ï–ù–¢–ò–ù–°–ö–ò–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Carm√©n√®re">
        <span>Carm√©n√®re ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Pa√≠s">
        <span>Pa√≠s ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Torront√©s">
        <span>Torront√©s ‚Äî 2</span>
      </label>

      <!-- –ú–ï–ñ–î–£–ù–ê–†–û–î–ù–´–ï –ì–ò–ë–†–ò–î–´ -->
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Regent">
        <span>Regent ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Rondo">
        <span>Rondo ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Solaris">
        <span>Solaris ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Phoenix">
        <span>Phoenix ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Bronner">
        <span>Bronner ‚Äî 1</span>
      </label>

      <!-- –î–ï–°–ï–†–¢–ù–´–ï/–§–û–†–¢–ò–§–ò–¶–ò–†–û–í–ê–ù–ù–´–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Pedro Xim√©nez">
        <span>Pedro Xim√©nez ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Palomino Fino">
        <span>Palomino Fino ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="1" value="Moscatel de Alejandr√≠a">
        <span>Moscatel de Alejandr√≠a ‚Äî 1</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Malvasia">
        <span>Malvasia ‚Äî 2</span>
      </label>

      <!-- –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï -->
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Marselan">
        <span>Marselan ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="4" value="Petit Verdot">
        <span>Petit Verdot ‚Äî 4</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Counoise">
        <span>Counoise ‚Äî 3</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="2" value="Poulsard">
        <span>Poulsard ‚Äî 2</span>
      </label>
      <label class="grape-item">
        <input type="checkbox" data-weight="3" value="Trousseau">
        <span>Trousseau ‚Äî 3</span>
      </label>
    </div>
    <div class="tooltip">–ü—Ä–æ—Å—Ç–æ –∫–ª–∏–∫–∞–π—Ç–µ –ø–æ —Å–æ—Ä—Ç–∞–º –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤</div>
  </div>

  <button class="calculate-btn" onclick="calculate()">üç∑ –†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ç—è–∂–µ—Å—Ç—å –≤–∏–Ω–∞</button>
  
  <button class="info-btn" onclick="showInfo()">üìä –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω–¥–µ–∫—Å —Ç—è–∂–µ—Å—Ç–∏?</button>

  <div id="result">
    <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±—É–¥—É—Ç –≤—Å—Ç–∞–≤–ª–µ–Ω—ã —Å—é–¥–∞ -->
  </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π -->
<div id="infoModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeInfo()">&times;</span>
    <h2>–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–Ω–¥–µ–∫—Å —Ç—è–∂–µ—Å—Ç–∏ –≤–∏–Ω–∞</h2>
    
    <div class="modal-section">
      <h3>–ß—Ç–æ —Ç–∞–∫–æ–µ –∏–Ω–¥–µ–∫—Å —Ç—è–∂–µ—Å—Ç–∏ –≤–∏–Ω–∞?</h3>
      <p>–ò–Ω–¥–µ–∫—Å —Ç—è–∂–µ—Å—Ç–∏ –≤–∏–Ω–∞ ‚Äî —ç—Ç–æ –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–º–æ–≥–∞–µ—Ç –æ—Ü–µ–Ω–∏—Ç—å, –Ω–∞—Å–∫–æ–ª—å–∫–æ "—Ç—è–∂–µ–ª—ã–º" –∏–ª–∏ "–ª–µ–≥–∫–∏–º" —è–≤–ª—è–µ—Ç—Å—è –≤–∏–Ω–æ —Å —Ç–æ—á–∫–∏ –∑—Ä–µ–Ω–∏—è –µ–≥–æ –≤–æ–∑–¥–µ–π—Å—Ç–≤–∏—è –Ω–∞ –æ—Ä–≥–∞–Ω–∏–∑–º.</p>
    </div>
    
    <div class="modal-section">
      <h3>–ö–∞–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∏–Ω–¥–µ–∫—Å?</h3>
      <p>–ò–Ω–¥–µ–∫—Å —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–æ—Ä—Ç–æ–≤ –≤–∏–Ω–æ–≥—Ä–∞–¥–∞. –ö–∞–∂–¥–æ–º—É —Å–æ—Ä—Ç—É –ø—Ä–∏—Å–≤–æ–µ–Ω –≤–µ—Å –æ—Ç 1 –¥–æ 5:</p>
      <ul>
        <li>1 ‚Äî –æ—á–µ–Ω—å –ª–µ–≥–∫–∏–µ —Å–æ—Ä—Ç–∞</li>
        <li>2 ‚Äî –ª–µ–≥–∫–∏–µ —Å–æ—Ä—Ç–∞</li>
        <li>3 ‚Äî —Å—Ä–µ–¥–Ω–∏–µ —Å–æ—Ä—Ç–∞</li>
        <li>4 ‚Äî —Ç—è–∂–µ–ª—ã–µ —Å–æ—Ä—Ç–∞</li>
        <li>5 ‚Äî –æ—á–µ–Ω—å —Ç—è–∂–µ–ª—ã–µ —Å–æ—Ä—Ç–∞</li>
      </ul>
    </div>
    
    <div class="modal-section">
      <h3>–®–∫–∞–ª–∞ –æ—Ü–µ–Ω–∫–∏</h3>
      <p>–ü–æ—Å–ª–µ —Ä–∞—Å—á–µ—Ç–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø–æ —Å–ª–µ–¥—É—é—â–µ–π —à–∫–∞–ª–µ:</p>
      <ul>
        <li>1-10: –õ–µ–≥–∫–æ–µ –≤–∏–Ω–æ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã—Ö –∂–µ–ª—É–¥–∫–æ–≤)</li>
        <li>11-20: –°—Ä–µ–¥–Ω–µ–µ –≤–∏–Ω–æ (–ø–æ–¥—Ö–æ–¥–∏—Ç –±–æ–ª—å—à–∏–Ω—Å—Ç–≤—É –ª—é–¥–µ–π)</li>
        <li>21-30: –¢—è–∂–µ–ª–æ–µ –≤–∏–Ω–æ (–º–æ–∂–µ—Ç –≤—ã–∑—ã–≤–∞—Ç—å –¥–∏—Å–∫–æ–º—Ñ–æ—Ä—Ç)</li>
        <li>31+: –û—á–µ–Ω—å —Ç—è–∂–µ–ª–æ–µ –≤–∏–Ω–æ (–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å –ñ–ö–¢)</li>
      </ul>
    </div>
  </div>
</div>

<script>
// –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞
function showInfo() {
  document.getElementById('infoModal').style.display = 'block';
}

function closeInfo() {
  document.getElementById('infoModal').style.display = 'none';
}

// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
window.onclick = function(event) {
  const modal = document.getElementById('infoModal');
  if (event.target == modal) {
    modal.style.display = 'none';
  }
}

// –§—É–Ω–∫—Ü–∏—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ —Å–æ—Ä—Ç–æ–≤
function filterGrapes() {
  const text = document.getElementById('grapeSearch').value.toLowerCase();
  document.querySelectorAll('.grape-item').forEach(item => {
    const name = item.innerText.toLowerCase();
    item.style.display = name.includes(text) ? '' : 'none';
  });
  
  updateSelectedGrapes();
}

// –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–æ—Ä—Ç–æ–≤
function updateSelectedGrapes() {
  const all = [...document.querySelectorAll('.grape-item input')];
  const selected = all.filter(ch => ch.checked);
  const total = document.querySelectorAll('.grape-item input').length;

  const block = document.getElementById('selectedGrapesBlock');
  const list = document.getElementById('selectedGrapesList');
  const selectedCount = document.getElementById('selectedCount');
  const totalCount = document.getElementById('totalCount');

  selectedCount.textContent = `–í—ã–±—Ä–∞–Ω–æ: ${selected.length}`;
  totalCount.textContent = `–í—Å–µ–≥–æ: ${total}`;

  if (selected.length === 0) {
    block.style.display = 'none';
    list.innerHTML = '';
    return;
  }

  block.style.display = 'block';
  list.innerHTML = selected
    .map(ch => `<span class="grape-tag">${ch.value}</span>`)
    .join('');
}

// –§—É–Ω–∫—Ü–∏—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ–±—â–µ–≥–æ –≤–µ—Å–∞ –≤—ã–±—Ä–∞–Ω–Ω—ã—Ö —Å–æ—Ä—Ç–æ–≤
function getGrapeTotalWeight() {
  const selected = [...document.querySelectorAll('.grape-item input')]
    .filter(ch => ch.checked)
    .map(ch => Number(ch.dataset.weight));

  return selected.reduce((a, b) => a + b, 0);
}

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
document.addEventListener('DOMContentLoaded', function() {
  document.querySelectorAll('.grape-item input').forEach(ch => {
    ch.addEventListener('change', updateSelectedGrapes);
  });
  
  updateSelectedGrapes();
});

// –§—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ (–æ—Å—Ç–∞–µ—Ç—Å—è –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π)
function calculate() {
  const totalWeight = getGrapeTotalWeight();
  
  // –ó–¥–µ—Å—å –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Ä–∞—Å—á–µ—Ç–∞
  // –ü–æ–∫–∞ –ø—Ä–æ—Å—Ç–æ –ø–æ–∫–∞–∂–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç
  document.getElementById('result').innerHTML = `
    <div class="result-level">–û–±—â–∏–π –≤–µ—Å: ${totalWeight}</div>
    <div class="result-index">–í—ã –≤—ã–±—Ä–∞–ª–∏ —Å–æ—Ä—Ç–∞ —Å –æ–±—â–∏–º –≤–µ—Å–æ–º ${totalWeight}</div>
  `;
  document.getElementById('result').style.display = 'block';
}
</script>

</body>
</html>
